{"version":3,"file":"rrze-faq-accordion.js","mappings":"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","sources":["webpack://rrze-answers/./src/js/rrze-faq-accordion.js"],"sourcesContent":["\n\n\n// fix for theme RRZE-2019 which has an overlay with the menue\nfunction setHeaderVar() {\n  const h = document.getElementById('site-navigation')?.getBoundingClientRect().height || 0;\n  document.documentElement.style.setProperty('--header-height', `${Math.ceil(h)}px`);\n}\n\nsetHeaderVar();\nwindow.addEventListener('resize', setHeaderVar);\n// falls der Header-Inhalt dynamisch ist (z.B. Fonts nachladen)\nwindow.addEventListener('load', setHeaderVar);\n\n\n/* RRZE FAQ accordion: single-open + open-by-hash */\n(function ($) {\n  'use strict';\n\n  $(function () {\n    $('.rrze-faq[data-accordion=\"single\"]').each(function () {\n      var $group = $(this);\n      var $items = $group.find('details.faq-item');\n\n      // Optional header offset for smooth scroll (set data-scroll-offset=\"96\" on wrapper)\n      var scrollOffset = parseInt($group.attr('data-scroll-offset') || '0', 10);\n\n      // Utility: robust ID selector\n      function byId(id) {\n        try {\n          return $('#' + CSS.escape(id));\n        } catch (e) {\n          return $('#' + id.replace(/([ !\"#$%&'()*+,.\\/:;<=>?@\\[\\\\\\]^`{|}~])/g, '\\\\$1'));\n        }\n      }\n\n      // Close all siblings except the provided one\n      function closeSiblings($except) {\n        $items.not($except).removeAttr('open');\n      }\n\n      // Open target by location hash; returns true if handled\n      function openByHash(doScroll) {\n        var raw = window.location.hash || '';\n        if (!raw) return false;\n\n        var id = decodeURIComponent(raw.replace(/^#/, ''));\n        if (!id) return false;\n\n        var $el = byId(id);\n        if (!$el.length) return false;\n\n        var $target = $el.closest('details.faq-item');\n        if (!$target.length && $el.is('details.faq-item')) $target = $el;\n        if (!$target.length || !$group.has($target).length) return false;\n\n        $target.attr('open', 'open');\n        closeSiblings($target);\n\n        var $sum = $target.children('summary').first();\n        if ($sum.length) { try { $sum.trigger('focus'); } catch (e) { } }\n\n        if (doScroll) {\n          var top = $target.offset().top - scrollOffset;\n          $('html, body').stop(true).animate({ scrollTop: Math.max(0, top) }, 300);\n        }\n        return true;\n      }\n\n      // Initial: honor hash; otherwise keep only the first pre-open item\n      if (!openByHash(false)) {\n        var $firstOpen = $items.filter('[open]').first();\n        if ($firstOpen.length) closeSiblings($firstOpen);\n      }\n\n      // Keep only one open â€” prefer native 'toggle', fall back to summary click\n      $items.each(function () {\n        var $d = $(this);\n\n        // Native 'toggle' event (supported in modern browsers)\n        $d.on('toggle', function () {\n          if (this.open) {\n            closeSiblings($d);\n\n            // refresh Hash in URL\n            if ($d.attr('id')) {\n              history.replaceState(null, null, '#' + $d.attr('id'));\n            }\n          }\n        });\n\n        // Fallback: after summary click, check open state\n        $d.children('summary').on('click', function () {\n          setTimeout(function () {\n            if ($d.prop('open'))\n              closeSiblings($d);\n\n              // refresh Hash in URL\n              if ($d.attr('id')) {\n                history.replaceState(null, null, '#' + $d.attr('id'));\n              }\n            }, 0);\n        });\n      });\n\n      // React to hash changes\n      $(window).on('hashchange', function () { openByHash(true); });\n    });\n  });\n\n})(jQuery);\n"],"names":["setHeaderVar","h","document","getElementById","getBoundingClientRect","height","documentElement","style","setProperty","Math","ceil","window","addEventListener","$","each","$group","$items","find","scrollOffset","parseInt","attr","byId","id","CSS","escape","e","replace","closeSiblings","$except","not","removeAttr","openByHash","doScroll","raw","location","hash","decodeURIComponent","$el","length","$target","closest","is","has","$sum","children","first","trigger","top","offset","stop","animate","scrollTop","max","$firstOpen","filter","$d","on","open","history","replaceState","setTimeout","prop","jQuery"],"sourceRoot":""}