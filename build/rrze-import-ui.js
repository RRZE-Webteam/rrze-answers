!function(e){"use strict";function n(n,r){e("#rrze-answers-cats-status").text(n||"").css({color:r?"#b32d2e":"#1d2327"})}function r(n){e("#rrze-answers-cats-help").text(n||"")}function o(n,r,o){n.empty();var s=Object.keys(r||{});s.sort((function(e,n){return(r[e]||"").toLowerCase().localeCompare((r[n]||"").toLowerCase())})),s.forEach((function(s){var a=e("<option/>",{value:s,text:r[s]||s});Array.isArray(o)&&-1!==o.indexOf(s)&&a.prop("selected",!0),n.append(a)}))}function s(s){console.log("loadCategories");var a=e("#rrze-answers_remote_categories_faq_");if(console.log("loadCategories 2"),!s)return a.empty(),n("",!1),void r("");n(RRZEAnswersSync.i18n.loading,!1),r("");var t=RRZEAnswersSync.ajaxUrl,c={action:"rrze_answers_get_categories",_ajax_nonce:RRZEAnswersSync.nonce,site_url:s};console.group("loadCategories debug"),console.log("AJAX URL:",t),console.log("Payload:",c),console.log("Full URL (GET-style):",t+"?"+jQuery.param(c)),e.ajax({url:RRZEAnswersSync.ajaxUrl,type:"POST",dataType:"json",data:{action:"rrze_answers_get_categories",_ajax_nonce:RRZEAnswersSync.nonce,site_url:s}}).done((function(e){if(console.log("resp",e),e&&e.success){var s=e.data.categories||{},t=e.data.selected||[];if(0===Object.keys(s).length)return o(a,{},[]),n(RRZEAnswersSync.i18n.none,!1),void r("");o(a,s,t),n("",!1),r(RRZEAnswersSync.i18n.selectCategories)}else n(e&&e.data&&e.data.message||RRZEAnswersSync.i18n.error,!0)})).fail((function(){n(RRZEAnswersSync.i18n.error,!0)}))}e((function(){var n=e("#rrze-answers_remote_url_faq");s(n.val()||""),n.on("change",(function(){s(e(this).val()||"")}))}))}(jQuery);