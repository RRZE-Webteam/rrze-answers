!function(e){"use strict";function n(n,r){e("#rrze-answers-cats-status").text(n||"").css({color:r?"#b32d2e":"#1d2327"})}function r(n){e("#rrze-answers-cats-help").text(n||"")}function s(n,r,s){n.empty();var a=Object.keys(r||{});a.sort((function(e,n){return(r[e]||"").toLowerCase().localeCompare((r[n]||"").toLowerCase())})),a.forEach((function(a){var t=e("<option/>",{value:a,text:r[a]||a});Array.isArray(s)&&-1!==s.indexOf(a)&&t.prop("selected",!0),n.append(t)}))}function a(a){var t=e("#rrze-answers_remote_categories_faq_");if(!a)return t.empty(),n("",!1),void r("");n(RRZEAnswersSync.i18n.loading,!1),r(""),RRZEAnswersSync.ajaxUrl,RRZEAnswersSync.nonce,e.ajax({url:RRZEAnswersSync.ajaxUrl,type:"POST",dataType:"json",data:{action:"rrze_answers_get_categories",_ajax_nonce:RRZEAnswersSync.nonce,site_url:a}}).done((function(e){if(e&&e.success){var a=e.data.categories||{},o=e.data.selected||[];if(0===Object.keys(a).length)return s(t,{},[]),n(RRZEAnswersSync.i18n.none,!1),void r("");s(t,a,o),n("",!1),r(RRZEAnswersSync.i18n.selectCategories)}else n(e&&e.data&&e.data.message||RRZEAnswersSync.i18n.error,!0)})).fail((function(){n(RRZEAnswersSync.i18n.error,!0)}))}e((function(){var n=e("#rrze-answers_remote_url_faq");a(n.val()||""),n.on("change",(function(){a(e(this).val()||"")}))}))}(jQuery);