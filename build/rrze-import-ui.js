!function(e){"use strict";function r(e,r){if(r){var a="rrze-answers[remote_categories_faq]["+r+"]";e.attr("name",a)}else e.removeAttr("name")}function a(r,a){e("#rrze-answers-cats-status").text(r||"").css({color:a?"#b32d2e":"#1d2327"})}function n(r){e("#rrze-answers-cats-help").text(r||"")}function t(r,a,n){r.empty();var t=Object.keys(a||{});t.sort((function(e,r){return(a[e]||"").toLowerCase().localeCompare((a[r]||"").toLowerCase())})),t.forEach((function(t){var s=e("<option/>",{value:t,text:a[t]||t});Array.isArray(n)&&-1!==n.indexOf(t)&&s.prop("selected",!0),r.append(s)}))}function s(s){var o=e("#rrze-answers_remote_categories_faq_"),i=e("#rrze-answers_remote_url_faq");if(!s)return o.empty(),r(o,""),a("",!1),void n("");a(RRZEAnswersSync.i18n.loading,!1),n(""),e.ajax({url:RRZEAnswersSync.ajaxUrl,type:"POST",dataType:"json",data:{action:"rrze_answers_get_categories",_ajax_nonce:RRZEAnswersSync.nonce,site_url:s}}).done((function(c){if(c&&c.success){r(o,s);var l,u,f,_=c.data.categories||{},p=c.data.selected||[];0===Object.keys(_).length?(t(o,{},[]),a(RRZEAnswersSync.i18n.none,!1),n("")):(t(o,_,p),a("",!1),n(RRZEAnswersSync.i18n.selectCategories)),u=c.data.remaining_urls||[],f=s,(l=i).attr("name","rrze-answers[remote_url_faq]"),l.empty(),Array.isArray(u)&&u.length?(l.append(e("<option/>",{value:"",text:"— Auswahl —"})),u.forEach((function(r){r&&r!==f&&l.append(e("<option/>",{value:r,text:r}))})),l.prop("disabled",!1).show()):l.prop("disabled",!0).hide()}else a(c&&c.data&&c.data.message||RRZEAnswersSync.i18n.error,!0)})).fail((function(){a(RRZEAnswersSync.i18n.error,!0)}))}e((function(){var r=e("#rrze-answers_remote_url_faq");e("#rrze-answers_remote_categories_faq_").attr("multiple","multiple"),s(r.val()||""),r.on("change",(function(){s(e(this).val()||"")})),e("#rrze-answers_remote_url_faq").on("change",(function(){var a=e(this).val()||"";a&&(r.val(a),s(a))}))}))}(jQuery);