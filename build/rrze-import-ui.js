!function(e){"use strict";function n(n,r){e("#rrze-answers-cats-status").text(n||"").css({color:r?"#b32d2e":"#1d2327"})}function r(n){e("#rrze-answers-cats-help").text(n||"")}function s(n,r,s){n.empty();var t=Object.keys(r||{});t.sort((function(e,n){return(r[e]||"").toLowerCase().localeCompare((r[n]||"").toLowerCase())})),t.forEach((function(t){var a=e("<option/>",{value:t,text:r[t]||t});Array.isArray(s)&&-1!==s.indexOf(t)&&a.prop("selected",!0),n.append(a)}))}function t(t){var a=e("#rrze-answers-cats");if(function(e,n){var r=RRZEAnswersSync.optionName||"rrze-answers",s="import_faq_categories"+(n?"_"+n:"");e.attr("name",r+"["+s+"][]")}(a,t),!t)return a.empty(),n("",!1),void r("");n(RRZEAnswersSync.i18n.loading,!1),r(""),e.ajax({url:RRZEAnswersSync.ajaxUrl,type:"POST",dataType:"json",data:{action:"rrze_answers_get_categories",_ajax_nonce:RRZEAnswersSync.nonce,shortname:t}}).done((function(e){if(e&&e.success){var t=e.data.categories||{},o=e.data.selected||[];if(0===Object.keys(t).length)return s(a,{},[]),n(RRZEAnswersSync.i18n.none,!1),void r("");s(a,t,o),n("",!1),r(RRZEAnswersSync.i18n.selectCategories)}else n(e&&e.data&&e.data.message||RRZEAnswersSync.i18n.error,!0)})).fail((function(){n(RRZEAnswersSync.i18n.error,!0)}))}e((function(){var n=e("#rrze-answers-site");t(n.val()||""),n.on("change",(function(){t(e(this).val()||"")}))}))}(jQuery);