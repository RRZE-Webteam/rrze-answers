(()=>{"use strict";var e={n:r=>{var l=r&&r.__esModule?()=>r.default:()=>r;return e.d(l,{a:l}),l},d:(r,l)=>{for(var a in l)e.o(l,a)&&!e.o(r,a)&&Object.defineProperty(r,a,{enumerable:!0,get:l[a]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};const r=window.wp.blocks,l=JSON.parse('{"UU":"rrze-answers/glossary"}'),a=window.wp.i18n,n=window.wp.element,t=window.wp.data,s=window.wp.blockEditor,o=window.wp.components,i=window.wp.serverSideRender;var _=e.n(i);const c=window.ReactJSXRuntime;(0,r.registerBlockType)(l.UU,{edit:function({attributes:e,setAttributes:r}){const{register:l,tag:i,id:d,hstart:u,order:g,sort:p,lang:h,additional_class:b,color:w,style:v,load_open:z,expand_all_link:y,hide_title:C,hide_accordion:S,registerstyle:f,glossary:x}=e,j=(0,s.useBlockProps)(),[m,k]=(0,n.useState)([""]),[E,T]=(0,n.useState)([""]),[q,O]=(0,n.useState)([""]),A=(0,t.useSelect)((e=>e("core").getEntityRecords("taxonomy","glossary_category",{per_page:-1,orderby:"name",order:"asc",status:"publish",_fields:"id,name,slug,parent"})),[]),R=[{label:(0,a.__)("all","rrze-anwers"),value:""}];Array.isArray(A)&&R.push(...function(e){const r=new Map,l=[];e.forEach((e=>{e.children=[],r.set(e.id,e)})),e.forEach((e=>{e.parent&&r.has(e.parent)?r.get(e.parent).children.push(e):l.push(e)}));const a=(e,r=0)=>{const l=[];return(e=>e.sort(((e,r)=>e.name.localeCompare(r.name,void 0,{sensitivity:"base"}))))(e).forEach((e=>{l.push({label:`${"-".repeat(r)} ${e.name}`.trim(),value:e.slug}),l.push(...a(e.children,r+1))})),l};return a(l)}(A));const B=(0,t.useSelect)((e=>e("core").getEntityRecords("taxonomy","glossary_tag")),[]),G=[{label:(0,a.__)("all","rrze-anwers"),value:""}];B&&Object.values(B).forEach((e=>{G.push({label:e.name,value:e.slug})}));const P=(0,t.useSelect)((e=>e("core").getEntityRecords("postType","glossary",{per_page:-1,orderby:"title",order:"asc"})),[]),F=[{label:(0,a.__)("all","rrze-anwers"),value:0}];P&&Object.values(P).forEach((e=>{F.push({label:e.title.rendered?e.title.rendered:(0,a.__)("No title","rrze-anwers"),value:e.id})}));const D=[{label:(0,a.__)("none","rrze-faq"),value:""},{label:(0,a.__)("Categories","rrze-faq"),value:"category"},{label:(0,a.__)("Tags","rrze-faq"),value:"tag"}],U=[{label:(0,a.__)("all","rrze-faq"),value:""},{label:(0,a.__)("German","rrze-faq"),value:"de"},{label:(0,a.__)("English","rrze-faq"),value:"en"},{label:(0,a.__)("French","rrze-faq"),value:"fr"},{label:(0,a.__)("Spanish","rrze-faq"),value:"es"},{label:(0,a.__)("Russian","rrze-faq"),value:"ru"},{label:(0,a.__)("Chinese","rrze-faq"),value:"zh"}],H=[{label:(0,a.__)("A - Z","rrze-anwers"),value:"a-z"},{label:(0,a.__)("Tagcloud","rrze-anwers"),value:"tagcloud"},{label:(0,a.__)("Tabs","rrze-anwers"),value:"tabs"},{label:(0,a.__)("-- hidden --","rrze-anwers"),value:""}],I=[{label:(0,a.__)("none","rrze-anwers"),value:""},{label:"light",value:"light"},{label:"dark",value:"dark"}],L=[{label:(0,a.__)("Title","rrze-anwers"),value:"title"},{label:(0,a.__)("ID","rrze-anwers"),value:"id"},{label:(0,a.__)("Sort field","rrze-anwers"),value:"sortfield"}],J=[{label:(0,a.__)("ASC","rrze-anwers"),value:"ASC"},{label:(0,a.__)("DESC","rrze-anwers"),value:"DESC"}];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.BlockControls,{children:(0,c.jsx)(s.HeadingLevelDropdown,{options:[2,3,4,5,6],value:u,onChange:e=>r({hstart:e})})}),(0,c.jsxs)(s.InspectorControls,{children:[(0,c.jsxs)(o.PanelBody,{title:(0,a.__)("Filter options","rrze-anwers"),initialOpen:!0,children:[(0,c.jsx)(o.SelectControl,{label:(0,a.__)("Categories","rrze-anwers"),help:(0,a.__)("Select categories to filter glossary entries.","rrze-anwers"),value:m,options:R,onChange:e=>{k(e),r({category:String(e)})},multiple:!0}),(0,c.jsx)(o.SelectControl,{label:(0,a.__)("Tags","rrze-anwers"),help:(0,a.__)("Select tags to filter glossary entries.","rrze-anwers"),value:E,options:G,onChange:e=>{T(e),r({tag:String(e)})},multiple:!0}),(0,c.jsx)(o.SelectControl,{label:(0,a.__)("Individual Glossary-Entries","rrze-anwers"),help:(0,a.__)("Select glossary entries to filter glossary entries.","rrze-anwers"),value:q,options:F,onChange:e=>{O(e),r({id:String(e)})},multiple:!0}),(0,c.jsx)(o.SelectControl,{label:(0,a.__)("Language","rrze-anwers"),help:(0,a.__)("Select language to filter glossary entries.","rrze-anwers"),options:U,onChange:e=>r({lang:e})}),(0,c.jsx)(o.SelectControl,{label:(0,a.__)("Group by","rrze-anwers"),help:(0,a.__)("Groups Glossary-Entries by category or tags.","rrze-anwers"),options:D,onChange:e=>r({register:e})})]}),(0,c.jsxs)(o.PanelBody,{title:(0,a.__)("Styles","rrze-anwers"),initialOpen:!1,children:[(0,c.jsx)(o.SelectControl,{label:(0,a.__)("Glossary Style","rrze-anwers"),help:(0,a.__)("Controls the Appearance of the Tab bar.","rrze-anwers"),options:H,onChange:e=>r({registerstyle:e})}),(!x||"none"===x)&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.ToggleControl,{checked:!!S,label:(0,a.__)("Hide accordion","rrze-anwers"),onChange:()=>r({hide_accordion:!S})}),S?(0,c.jsx)(o.ToggleControl,{checked:!!C,label:(0,a.__)("Hide title","rrze-anwers"),onChange:()=>r({hide_title:!C})}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.ToggleControl,{checked:!!y,label:(0,a.__)('Show "expand all" button',"rrze-anwers"),onChange:()=>r({expand_all_link:!y})}),(0,c.jsx)(o.ToggleControl,{checked:!!z,label:(0,a.__)("Load website with opened accordions","rrze-anwers"),onChange:()=>r({load_open:!z})}),(0,c.jsx)(o.SelectControl,{label:(0,a.__)("Color","rrze-anwers"),options:[{label:"fau",value:"fau"},{label:"med",value:"med"},{label:"nat",value:"nat"},{label:"phil",value:"phil"},{label:"rw",value:"rw"},{label:"tf",value:"tf"}],onChange:e=>r({color:e})}),(0,c.jsx)(o.SelectControl,{label:(0,a.__)("Style","rrze-anwers"),options:I,onChange:e=>r({style:e})})]})]})]}),(0,c.jsxs)(o.PanelBody,{title:(0,a.__)("Sorting options","rrze-anwers"),initialOpen:!1,children:[(0,c.jsx)(o.SelectControl,{label:(0,a.__)("Sort","rrze-anwers"),options:L,onChange:e=>r({sort:e})}),(0,c.jsx)(o.SelectControl,{label:(0,a.__)("Order","rrze-anwers"),options:J,onChange:e=>r({order:e})})]})]}),(0,c.jsx)("div",{...j,children:(0,c.jsx)(_(),{block:"rrze-answers/glossary",attributes:e})})]})},save:function(){return null}})})();