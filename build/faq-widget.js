(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var s in r)e.o(r,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:r[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,r=JSON.parse('{"UU":"rrze-answers/faq-widget"}'),s=window.wp.blockEditor,n=window.wp.components,i=window.wp.data,o=window.wp.serverSideRender;var a=e.n(o);const l=window.wp.i18n,d=window.ReactJSXRuntime,c="rrze_faq",p="rrze_faq_category";(0,t.registerBlockType)(r.UU,{edit:function({attributes:e,setAttributes:t}){const{id:r,catID:o,hide_title:w}=e,{faqs:_,categories:u,isLoadingFaqs:g,isLoadingCategories:b}=(0,i.useSelect)((e=>{const t=e("core"),r={per_page:-1,orderby:"title",order:"asc",status:"publish"},s={per_page:-1,hide_empty:!1,orderby:"name",order:"asc"};return{faqs:t.getEntityRecords("postType",c,r)||[],categories:t.getEntityRecords("taxonomy",p,s)||[],isLoadingFaqs:t.isResolving("getEntityRecords",["postType",c,r]),isLoadingCategories:t.isResolving("getEntityRecords",["taxonomy",p,s])}}),[]),h=(0,s.useBlockProps)(),y=[{label:(0,l.__)("— Select FAQ —","rrze-answers"),value:0},..._.map((e=>({label:e.title?.rendered||`#${e.id}`,value:e.id})))],v=[{label:(0,l.__)("— Select category —","rrze-answers"),value:0},...u.map((e=>({label:e.name,value:e.id})))];return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(s.InspectorControls,{children:[(0,d.jsxs)(n.PanelBody,{title:(0,l.__)("FAQ selection","rrze-answers"),initialOpen:!0,children:[g&&(0,d.jsx)(n.Spinner,{}),!g&&!_.length&&(0,d.jsx)(n.Notice,{status:"warning",isDismissible:!1,children:(0,l.__)('No FAQs found (post type "rrze_faq" must be public and show_in_rest).',"rrze-answers")}),(0,d.jsx)(n.SelectControl,{label:(0,l.__)("Choose a FAQ","rrze-answers"),value:r,options:y,onChange:e=>{const r=parseInt(e,10)||0;t({id:r})}}),(0,d.jsx)(n.SelectControl,{label:(0,l.__)("Or","rrze-answers"),value:o,options:v,onChange:e=>{const r=parseInt(e,10)||0;t({catID:r})},disabled:!u.length&&!b})]}),(0,d.jsx)(n.PanelBody,{title:(0,l.__)("Display options","rrze-answers"),initialOpen:!1,children:(0,d.jsx)(n.CheckboxControl,{label:(0,l.__)("Hide question title","rrze-answers"),checked:!!w,onChange:e=>{t({hide_title:e?1:0})},help:(0,l.__)("If enabled, the FAQ title will be hidden.","rrze-answers")})})]}),(0,d.jsx)("div",{...h,children:(0,d.jsx)(a(),{block:"rrze-answers/faq-widget",attributes:e})})]})},save:function(){return null}})})();