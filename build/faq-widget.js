(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var o in s)e.o(s,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:s[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,s=JSON.parse('{"UU":"rrze-answers/faq-widget"}'),o=window.wp.blockEditor,i=window.wp.components,n=window.wp.data,a=window.wp.serverSideRender;var r=e.n(a);const l=window.ReactJSXRuntime,d="rrze_faq",c="rrze_faq_category";(0,t.registerBlockType)(s.UU,{edit:function({attributes:e,setAttributes:t}){const{id:s,catID:a,hide_title:p}=e,{faqs:g,categories:u,isLoadingFaqs:b,isLoadingCategories:h}=(0,n.useSelect)((e=>{const t=e("core"),s={per_page:-1,orderby:"title",order:"asc",status:"publish"},o={per_page:-1,hide_empty:!1,orderby:"name",order:"asc"};return{faqs:t.getEntityRecords("postType",d,s)||[],categories:t.getEntityRecords("taxonomy",c,o)||[],isLoadingFaqs:t.isResolving("getEntityRecords",["postType",d,s]),isLoadingCategories:t.isResolving("getEntityRecords",["taxonomy",c,o])}}),[]),w=(0,o.useBlockProps)(),y=[{label:"— Select FAQ —",value:0},...g.map((e=>({label:e.title?.rendered||`#${e.id}`,value:e.id})))],f=[{label:"— Select category —",value:0},...u.map((e=>({label:e.name,value:e.id})))];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(o.InspectorControls,{children:[(0,l.jsxs)(i.PanelBody,{title:"FAQ selection",initialOpen:!0,children:[b&&(0,l.jsx)(i.Spinner,{}),!b&&!g.length&&(0,l.jsx)(i.Notice,{status:"warning",isDismissible:!1,children:'No FAQs found (post type "rrze_faq" must be public and show_in_rest).'}),(0,l.jsx)(i.SelectControl,{label:"Choose a FAQ",value:s,options:y,onChange:e=>{const s=parseInt(e,10)||0;t({id:s})},help:"Select a specific FAQ post."}),(0,l.jsx)(i.SelectControl,{label:"Or choose a category to display a random FAQ",value:a,options:f,onChange:e=>{const s=parseInt(e,10)||0;t({catID:s})},disabled:!u.length&&!h,help:"If a category is selected and no specific FAQ is set, a random FAQ from this category will be used."})]}),(0,l.jsx)(i.PanelBody,{title:"Display options",initialOpen:!1,children:(0,l.jsx)(i.CheckboxControl,{label:"Hide question title",checked:!!p,onChange:e=>{t({hide_title:e?1:0})},help:"If enabled, the FAQ title will be hidden."})})]}),(0,l.jsx)("div",{...w,children:(0,l.jsx)(r(),{block:"rrze-answers/faq-widget",attributes:e})})]})},save:function(){return null}})})();