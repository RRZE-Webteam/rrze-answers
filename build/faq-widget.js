(()=>{"use strict";var e={n:s=>{var r=s&&s.__esModule?()=>s.default:()=>s;return e.d(r,{a:r}),r},d:(s,r)=>{for(var t in r)e.o(r,t)&&!e.o(s,t)&&Object.defineProperty(s,t,{enumerable:!0,get:r[t]})},o:(e,s)=>Object.prototype.hasOwnProperty.call(e,s)};const s=window.wp.blocks,r=JSON.parse('{"UU":"rrze-answers/faq-widget"}'),t=window.wp.blockEditor,n=window.wp.components,a=window.wp.data,i=window.wp.serverSideRender;var o=e.n(i);const l=window.wp.i18n,d=window.ReactJSXRuntime,c="rrze_faq",p="rrze_faq_category";(0,s.registerBlockType)(r.UU,{edit:function({attributes:e,setAttributes:s}){const{id:r,catID:i,hide_title:w}=e,{faqs:_,categories:g,isLoadingFaqs:u,isLoadingCategories:b}=(0,a.useSelect)((e=>{const s=e("core"),r={per_page:-1,orderby:"title",order:"asc",status:"publish"},t={per_page:-1,hide_empty:!1,orderby:"name",order:"asc"};return{faqs:s.getEntityRecords("postType",c,r)||[],categories:s.getEntityRecords("taxonomy",p,t)||[],isLoadingFaqs:s.isResolving("getEntityRecords",["postType",c,r]),isLoadingCategories:s.isResolving("getEntityRecords",["taxonomy",p,t])}}),[]),h=(0,t.useBlockProps)(),y=[{label:(0,l.__)("— Select FAQ —","rrze-answers"),value:0},..._.map((e=>({label:e.title?.rendered||`#${e.id}`,value:e.id})))],f=[{label:(0,l.__)("— Select category —","rrze-answers"),value:0},...g.map((e=>({label:e.name,value:e.id})))];return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(t.InspectorControls,{children:[(0,d.jsxs)(n.PanelBody,{title:(0,l.__)("FAQ selection","rrze-answers"),initialOpen:!0,children:[u&&(0,d.jsx)(n.Spinner,{}),!u&&!_.length&&(0,d.jsx)(n.Notice,{status:"warning",isDismissible:!1,children:(0,l.__)('No FAQs found (post type "rrze_faq" must be public and show_in_rest).',"rrze-answers")}),(0,d.jsx)(n.SelectControl,{label:(0,l.__)("Choose a FAQ","rrze-answers"),value:r,options:y,onChange:e=>{const r=parseInt(e,10)||0;s({id:r})},help:(0,l.__)("Select a specific FAQ post.","rrze-answers")}),(0,d.jsx)(n.SelectControl,{label:(0,l.__)("Or choose a category to display a random FAQ","rrze-answers"),value:i,options:f,onChange:e=>{const r=parseInt(e,10)||0;s({catID:r})},disabled:!g.length&&!b,help:(0,l.__)("If a category is selected and no specific FAQ is set, a random FAQ from this category will be used.","rrze-answers")})]}),(0,d.jsx)(n.PanelBody,{title:(0,l.__)("Display options","rrze-answers"),initialOpen:!1,children:(0,d.jsx)(n.CheckboxControl,{label:(0,l.__)("Hide question title","rrze-answers"),checked:!!w,onChange:e=>{s({hide_title:e?1:0})},help:(0,l.__)("If enabled, the FAQ title will be hidden.","rrze-answers")})})]}),(0,d.jsx)("div",{...h,children:(0,d.jsx)(o(),{block:"rrze-answers/faq-widget",attributes:e})})]})},save:function(){return null}})})();